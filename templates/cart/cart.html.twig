{% extends 'base.html.twig' %}

{% block title %}Mon panier{% endblock %}

{% block body %}
<section class="cart-section">
    <h1>Mon panier</h1>
    <div class="cart-card">
        <a href="{{ path('cart_clear') }}" class="clear-cart">× Vider le panier</a>
        {% for item in cart.items %}
            <div class="cart-item">
                <img src="{{ asset('images/' ~ item.product.image) }}" alt="{{ item.product.name }}">
                <div class="cart-item-details">
                    <div class="item-name">{{ item.product.name }}</div>
                    <div class="item-qty">Quantité : {{ item.quantity }}</div>
                    <div class="item-price">{{ (item.product.price * item.quantity)|number_format(2, ',', ' ') }} €</div>
                </div>
            </div>
        {% else %}
            <p>Votre panier est vide.</p>
        {% endfor %}
        {% if cart.items|length > 0 %}
        <div class="cart-summary">
            <div>Total panier : {{ cart.total|number_format(2, ',', ' ') }} €</div>
            <small>Frais de livraison : Offert</small>
        </div>
        <a href="{{ path('order_checkout') }}" class="btn-primary">Valider la commande</a>
        {% endif %}
    </div>
</section>
{% endblock %}
